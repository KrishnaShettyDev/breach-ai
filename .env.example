# BREACH.AI Enterprise Configuration
# Copy this to .env and fill in your values

# ============== DATABASE ==============
# PostgreSQL (production) - Required
DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/breach

# SQLite (development - simpler to start)
# DATABASE_URL=sqlite+aiosqlite:///./breach.db

# ============== REDIS ==============
# Used for rate limiting and job queue
REDIS_URL=redis://localhost:6379

# ============== CLERK AUTH ==============
# Get from https://dashboard.clerk.com - Required
CLERK_PUBLISHABLE_KEY=pk_test_xxxx
CLERK_SECRET_KEY=sk_test_xxxx

# ============== AI ==============
ANTHROPIC_API_KEY=sk-ant-xxxx

# ============== STRIPE BILLING ==============
# Get from https://dashboard.stripe.com/apikeys - Required
STRIPE_SECRET_KEY=sk_test_xxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxx

# Price IDs from Stripe Products
STRIPE_STARTER_PRICE_ID=price_xxxx
STRIPE_BUSINESS_PRICE_ID=price_xxxx
STRIPE_ENTERPRISE_PRICE_ID=price_xxxx

# ============== SERVER ==============
HOST=0.0.0.0
PORT=8000
DEBUG=false
ENVIRONMENT=development

# ============== CORS ==============
# Comma-separated list of allowed origins (no wildcard!)
CORS_ORIGINS=http://localhost:3000

# ============== SCANNING ==============
# Maximum scan duration in seconds (default 1 hour)
SCAN_TIMEOUT_SECONDS=3600
# Maximum concurrent scans per worker
MAX_CONCURRENT_SCANS=5

# ============== RATE LIMITING ==============
RATE_LIMIT_GLOBAL=100/minute
RATE_LIMIT_SCANS=10/minute
RATE_LIMIT_AUTH=5/minute

# ============== VECTOR DB (Qdrant) ==============
# Used for semantic learning and attack pattern retrieval
# Local: http://localhost:6333
# Cloud: https://your-cluster.qdrant.tech
QDRANT_URL=http://localhost:6333
# For Qdrant Cloud deployments:
# QDRANT_API_KEY=your_qdrant_cloud_api_key

# ============== CLOUDFLARE R2 STORAGE ==============
# Used for storing reports, evidence, and exported files
# Get credentials from Cloudflare Dashboard > R2 > Manage R2 API Tokens
R2_ENDPOINT_URL=https://your_account_id.r2.cloudflarestorage.com
R2_ACCESS_KEY_ID=your_r2_access_key
R2_SECRET_ACCESS_KEY=your_r2_secret_key
R2_BUCKET_NAME=breach-ai
# Optional: Public URL for direct file access
# R2_PUBLIC_URL=https://files.yourdomain.com

# ============== OPENAI (Optional) ==============
# Used for embeddings in vector search
# If not provided, falls back to hash-based pseudo-embeddings
# OPENAI_API_KEY=sk-xxx

# ============== EMAIL NOTIFICATIONS ==============
# SendGrid (recommended) - https://sendgrid.com
# SENDGRID_API_KEY=SG.xxxx

# OR Resend - https://resend.com
# RESEND_API_KEY=re_xxxx

# Email sender settings
EMAIL_FROM=noreply@breach.ai
EMAIL_FROM_NAME=BREACH.AI

# ============== FRONTEND URL ==============
# Used in email links
FRONTEND_URL=http://localhost:3000

# ============== OBSERVABILITY (Optional) ==============
# Sentry DSN for error tracking
# SENTRY_DSN=https://xxxxx@sentry.io/xxxxx
# SENTRY_TRACES_SAMPLE_RATE=0.1

# Webhook URL for scan failure alerts (Slack, Discord, etc.)
# ALERT_WEBHOOK_URL=https://hooks.slack.com/services/xxxxx
